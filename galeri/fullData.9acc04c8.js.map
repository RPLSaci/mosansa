{"mappings":"AAAA,IAAIA,IAAM,kCAEVC,eAAeC,OACX,IACIC,EADY,IAAIC,gBAAgBC,OAAOC,SAASC,QACjCC,IAAI,MAEvB,IAAIL,GAAMA,EAAGM,OAAS,EAElB,YADAC,MAAM,sCAIV,IAAIC,SAAeC,UAAUT,IAAKU,QAAQC,MAAMC,GAAIA,EAAEC,UAAYb,IAElE,GADAc,QAAQC,IAAIP,IACRA,EAEA,YADAD,MAAM,uCAGVS,SAASR,GACT,IAAIS,QAAaC,aAAalB,GAG9BiB,EAAOA,EAAKE,MAAM,EAAG,IACrBC,WAAWH,EACf,CAGA,SAASG,WAAWH,GAChB,IAAII,EAAO,GACX,IAAI,IAAIC,EAAI,EAAGA,EAAIL,EAAKX,OAAQgB,IAC5BD,GAAQ,+HAE0DJ,EAAKK,GAAGtB,yEAI9EuB,SAASC,cAAc,WAAWC,UAAYJ,CAClD,CACA,SAASL,SAASR,GACde,SAASC,cAAc,QAAQE,UAAY,IAAKC,KAAKnB,EAAMoB,SAAUC,qBACrEN,SAASC,cAAc,SAASE,UAAYlB,EAAMsB,UAClDP,SAASC,cAAc,SAASO,aAAa,OAAQvB,EAAMwB,KAC3DT,SAASC,cAAc,SAASS,UAAUC,OAAO,SACrD,CAIApC,eAAeW,UAAUT,GACrB,IAAIiB,QAAakB,MAAMtC,IAAM,kBAE7B,aADiBoB,EAAKmB,MAE1B,CAEAtC,eAAeoB,aAAamB,GACxB,MAAMC,EAAS,GAGf,MAAMC,QAAiBJ,MAAMtC,IAAM,eAAgB,CAC/C2C,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBP,WACAQ,UATc,UAaZC,MAAEA,SAAgBP,EAASH,OAEjC,IAAK,MAAMW,KAAQD,EAAO,CACxB,MAAME,SAAEA,EAAQhD,GAAEA,GAAO+C,EACzB,GAAIC,EAASC,WAAW,UACtBX,EAAOY,KAAKH,QACP,GAAiB,uCAAbC,EAAmD,CAC5D,MAAMG,QAAwBjC,aAAalB,GAC3CsC,EAAOY,QAAQC,EACjB,CACF,CAEA,OAAOb,CACX,CArCFvC","sources":["src/assets/js/fullGaleri.js"],"sourcesContent":["let api = \"https://mosansa-api.vercel.app/\"\n\nasync function main(){\n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('id');\n    // get data from api\n    if(!id || id.length < 1){\n        alert(\"Tidak ada id acara yang diberikan!\")\n        return\n    }\n\n    let model = (await loadModel(id)).message.find((e)=>e.idAcara === id)\n    console.log(model)\n    if(!model){\n        alert(\"Tidak ada acara dengan id tersebut!\")\n        return\n    }\n    loadHtml(model)\n    let data = await getAllImages(id)\n    // console.log(data)\n    // limit data to 20\n    data = data.slice(0, 10)\n    loadImages(data)\n}\n\n\nfunction loadImages(data){\n    let html = \"\"\n    for(let i = 0; i < data.length; i++){\n        html += `<div class=\"col-sm-4\">\n        <div class=\"card\">\n          <img class=\"card-img-top\" src=\"https://drive.google.com/uc?id=${data[i].id}&export=download\"alt=\"Card image cap\">\n        </div>\n      </div>`\n    }\n    document.querySelector(\"#images\").innerHTML = html\n}\nfunction loadHtml(model){\n    document.querySelector(\"#tgl\").innerText = (new Date(model.tanggal)).toLocaleDateString()\n    document.querySelector(\"#name\").innerText = model.namaAcara\n    document.querySelector(\"#link\").setAttribute(\"href\", model.url)\n    document.querySelector(\"#data\").classList.toggle(\"hidden\")\n}\nmain()\n\n\nasync function loadModel(id){\n    let data = await fetch(api + \"api/allFolders\")\n    let json = await data.json()\n    return json\n}\n\nasync function getAllImages(folderId) {\n    const images = []\n    let nextPageToken = null\n\n    const response = await fetch(api + \"api/getFiles\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          folderId,\n          pageToken: nextPageToken\n        })\n      })\n  \n      const { files } = await response.json()\n\n      for (const file of files) {\n        const { mimeType, id } = file\n        if (mimeType.startsWith(\"image/\")) {\n          images.push(file)\n        } else if (mimeType === \"application/vnd.google-apps.folder\") {\n          const subfolderImages = await getAllImages(id)\n          images.push(...subfolderImages)\n        }\n      }\n    \n      return images\n  }\n  "],"names":["api","async","main","id","URLSearchParams","window","location","search","get","length","alert","model","loadModel","message","find","e","idAcara","console","log","loadHtml","data","getAllImages","slice","loadImages","html","i","document","querySelector","innerHTML","innerText","Date","tanggal","toLocaleDateString","namaAcara","setAttribute","url","classList","toggle","fetch","json","folderId","images","response","method","headers","body","JSON","stringify","pageToken","files","file","mimeType","startsWith","push","subfolderImages"],"version":3,"file":"fullData.9acc04c8.js.map"}