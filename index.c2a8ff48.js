let api="https://mosansa-api.vercel.app/";async function main(){const e=await fetch("https://raw.githubusercontent.com/RPLSaci/mosansa/main/data/pengurus.txt"),t=await e.text();load(t);const n=t.split("\n").filter((e=>e.length>1)).filter((e=>!e.includes("//"))).filter((e=>!e.includes("--")));const s=t.split("\n").filter((e=>e.includes("INTI")))[0].split("-")[5].trim();let a="",i="";for(let e=0;e<n.length;e++){const t=n[e],[l,r,o,c]=t.split(" - ");c&&o===s&&"MPK"===r?a+=`\n      <div class="swiper-slide flex">\n      <div class="card w-96 bg-mpk shadow-xl m-auto">\n          <div class="card-body items-center text-center">\n              <h2 class="card-title">${l}</h2>\n              <p>${c} ${r} ${o}</p>\n          </div>\n      </div>\n  </div>`:c&&o===s&&"OSIS"===r&&(i+=`\n      <div class="swiper-slide flex">\n      <div class="card w-96 bg-mpk shadow-xl m-auto">\n          <div class="card-body items-center text-center">\n              <h2 class="card-title">${l}</h2>\n              <p>${c} ${r} ${o}</p>\n          </div>\n      </div>\n  </div>`)}document.querySelector("#pengurus-mpk > #data-struktur").innerHTML+=a;new Swiper("#pengurus-mpk",{speed:600,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!0},slidesPerView:"auto",pagination:{el:"#pengurus-mpk > .swiper-pagination",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:20},1200:{slidesPerView:2,spaceBetween:20}},navigation:{nextEl:"#pengurus-mpk > .swiper-button-next",prevEl:"#pengurus-mpk > .swiper-button-prev"}});document.querySelector("#pengurus-osis > #data-struktur").innerHTML+=i;new Swiper("#pengurus-osis",{speed:600,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!0},slidesPerView:"auto",pagination:{el:"#pengurus-osis > .swiper-pagination",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:20},1200:{slidesPerView:2,spaceBetween:20}},navigation:{nextEl:"#pengurus-osis > .swiper-button-next",prevEl:"#pengurus-osis > .swiper-button-prev"}})}async function load(e){let t=(e=e.split("\n").filter((e=>e.length>1)).filter((e=>!e.includes("--"))).filter((e=>!e.includes("//")))).filter((e=>e.includes("MPK"))).length,n=e.filter((e=>e.includes("OSIS"))).length,s=(new Date).getFullYear()-1+" - "+(new Date).getFullYear();document.querySelector("#info").innerHTML+=`\n  <div class="grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 gap-4">\n  <div class="text-center p-4">\n      <span class="block text-4xl font-bold">${s}</span>\n      <p class="text-base">Masa Bakti</p>\n  </div>\n\n  <div class="text-center p-4">\n  <span data-purecounter-start="0" data-purecounter-end="${t}"\n      class="purecounter block text-4xl font-bold">${t}</span>\n  <p class="text-base">Pengurus MPK</p>\n</div>\n<div class="text-center p-4">\n  <span data-purecounter-start="0" data-purecounter-end="${n}"\n      class="purecounter block text-4xl font-bold">${n}</span>\n  <p class="text-base">Pengurus Osis</p>\n</div>\n\n\n  <div class="text-center p-4">\n      <span data-purecounter-start="0" data-purecounter-end="10"\n          class="purecounter block text-4xl font-bold">10</span>\n      <p class="text-base">Total Sekbid Osis</p>\n  </div>\n\n</div>\n`}function getDriveIdFromUrl(e){const t=e.match(/\/([a-zA-Z0-9_-]{25,})/);return t?t[1]:null}async function Galeri(){console.log("Loading Data");let e=await fetch(api+"api/allFolders"),t=await e.json();if(console.log(t.message),200===t.status){t.message=t.message.sort(((e,t)=>new Date(t.tanggal)-new Date(e.tanggal)));let e="";for(let n=0;n<t.message.length;n++){let s=t.message[n],a=getDriveIdFromUrl(s.url);console.log(a);let i=await fetch(api+"api/getFiles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({folderId:a})}),l=await i.json();if(console.log(l),"application/vnd.google-apps.folder"==l.files[0].mimeType){let e=await fetch(api+"api/getFiles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({folderId:l.files[0].id})});l=await e.json()}console.log(l),e+=`\n    <div class="swiper-slide flex w-96">\n    <div class="card w-96 bg-osis shadow-xl m-auto">\n            <figure><img src="https://drive.google.com/uc?id=${l.files.find((e=>e.mimeType.startsWith("image/"))).id}&export=download"/></figure>\n            <div class="card-body">\n              <h2 class="card-title">${s.namaAcara}</h2>\n              <p>${s.deskripsiAcara}</p>\n              <div class="card-actions justify-end">\n                <a class="btn btn-osis" href="./galeri/fullData.html?id=${s.idAcara}">Buka</a>\n              </div>\n            </div>\n          </div>\n          </div>\n          `}document.querySelector("#galeri-slide").innerHTML+=e;new Swiper("#galeriswip",{speed:600,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!0},slidesPerView:"auto",pagination:{el:"#galeriswip > .swiper-pagination",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:20},1200:{slidesPerView:2,spaceBetween:20}},navigation:{nextEl:"#galeriswip > .swiper-button-next",prevEl:"#galeriswip > .swiper-button-prev"}})}}async function Berita(){let e=await fetch("https://raw.githubusercontent.com/RPLSaci/featOsis-Event/main/events/mainMenu.json"),t=await e.json(),n="";for(let e=0;e<t.length;e++){let s=t[e];console.log(s),n+=`\n    <div class="swiper-slide flex w-96">\n    <div class="card w-96 bg-mpk shadow-xl m-auto">\n        <figure class="">\n            <img src="https://raw.githubusercontent.com/RPLSaci/featOsis-Event/main/events/${s.img}" class="rounded-xl" />\n        </figure>\n        <div class="card-body items-center text-center">\n            <a class="card-title" href="./event/fullData.html?id=${s.id}">${s.nama}</a>\n        </div>\n    </div>\n</div>`}document.querySelector("#berita-slide").innerHTML+=n;new Swiper("#beritaswip",{speed:600,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!0},slidesPerView:"auto",pagination:{el:"#beritaswip > .swiper-pagination",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:20},1200:{slidesPerView:2,spaceBetween:20}},navigation:{nextEl:"#beritaswip > .swiper-button-next",prevEl:"#beritaswip > .swiper-button-prev"}})}async function Pilkasis(){const e=await fetch("https://raw.githubusercontent.com/RPLSaci/mosansa/main/data/pilkasis.json");if(!0===(await e.json()).status){document.querySelector("#status").innerHTML="Pemilihan Ketua MPK OSIS Sedang Berlangsung"}else{document.querySelector("#status").innerHTML="Pemilihan Ketua MPK OSIS Sedang tidak Berlangsung"}}main(),Galeri(),Berita(),Pilkasis();
//# sourceMappingURL=index.c2a8ff48.js.map
